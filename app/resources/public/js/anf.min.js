/**
 * Anf js v 1.0
 */
!function(a){var b=function(){return this.routesBag={},this.routingShortcut={},this.baseUrl="",this.basePath="",this.setBaseUrl=function(a){return this.baseUrl=a,this},this.getBaseUrl=function(){return this.baseUrl},this.getRoute=function(a){return"undefined"!=typeof this.routesBag[a]?this.routesBag[a]:null},this.setBasePath=function(a){return this.basePath=a,this},this.getBasePath=function(){return this.basePath},this.loadRouting=function(a){if("{}"==JSON.stringify(this.routesBag))this.routesBag=a;else{var b=JSON.stringify(this.routesBag).concat(JSON.stringify(a)).replace("}{",",");this.routesBag=JSON.parse(b)}return this},this.generateUrl=function(a,b,c){var a=this.getRoute(a),b="undefined"==typeof b?{}:b;if(!a)return!1;var d="undefined"!=typeof a.defaults?a.defaults:{},e=a.params,f=a.path;for(var g in e){if("undefined"==typeof b[g]){if("undefined"==typeof d[g])throw new Error("param "+g+" must be declare!");if(null!=d[b]&&0!=d[b].length||(d[b]=""),"@"==d[b][0])throw new Error("this route cannot be rewrite by anf javascript interface becouse use a php service");b[g]=d[b]}var h=e[g];if("undefined"!=typeof this.routingShortcut[h]&&!(""+b[g]).match(this.routingShortcut[h]))throw new Error('param "'+g+'" must match rule '+h);f=f.replace("{"+g+"}",b[g])}for(var i in b)f=f.replace("(:"+i+")",b[i]);var j=this.baseUrl;return"/"==j[j.length-1]&&(j=j.substr(0,j.length-1)),f=f.replace("//","/"),f=j+f,c&&(f=location.protocol+"//"+location.host+f),f},this.redirectToRoute=function(b,c){a.location.href=this.generateUrl(b,c)},this},c=function(){return this.httprequest={},this.__getIndex=function(a,b,c){if("undefined"==typeof a)return this.httprequest;var b="undefined"!=typeof b&&b;return"undefined"==typeof this.httprequest[c][a]?b:this.httprequest[c][a]},this.get_post=function(a,b,c){return this.__getIndex(a,this.__getIndex(a,b,"POST"),"GET")},this.get=function(a,b,c){return this.__getIndex(a,b,"GET")},this.post=function(a,b,c){return this.__getIndex(a,b,"POST")},this.loadHttpRequest=function(a){if("{}"==JSON.stringify(this.httprequest))this.httprequest=a;else{var b=JSON.stringify(this.httprequest).concat(JSON.stringify(a)).replace("}{",",");this.httprequest=JSON.parse(b)}return this},this},d=function(){return this.configs={},this.get=function(a,b){if("undefined"==typeof a)return this.configs;var b="undefined"!=typeof b&&b;return"undefined"==typeof this.configs[a]?b:this.configs[a]},this.set=function(a,b){return this.configs[a]=b,this},this.loadConfigs=function(a){if("{}"==JSON.stringify(this.configs))this.configs=b;else{var b=JSON.stringify(this.configs).concat(JSON.stringify(a)).replace("}{",",");this.configs=JSON.parse(b)}return this},this},e=function(){return this.data={},this.get=function(a,b){if("undefined"==typeof a)return this.data;var b="undefined"!=typeof b&&b;return"undefined"==typeof this.data[a]?b:this.data[a]},this.set=function(a,b){this.data[a]=b},this.loadData=function(a){if("{}"==JSON.stringify(this.data))this.data=a;else{var b=JSON.stringify(this.data).concat(JSON.stringify(a)).replace("}{",",");this.data=JSON.parse(b)}return this},this},f=function(){return this.lang=null,this.locale=null,this.catalogue={},this.translate=function(a,b){var c=this.catalogue[a]||a;if("undefined"!=typeof b)for(var d in b)c=c.replace(d,b[d]);return c},this.setLanguage=function(a){return this.lang=a,this},this.setLocale=function(a){return this.locale=a,this},this.loadCatalogue=function(a){if("{}"==JSON.stringify(this.catalogue))this.catalogue=a;else{var b=JSON.stringify(this.catalogue).concat(JSON.stringify(a)).replace("}{",",");this.catalogue=JSON.parse(b)}return this},this},g=function(){this.mobileData={},this.isMobile=function(){return this.__get("isMobile")},this.isTablet=function(){return this.__get("isTablet")},this.isIOS=function(){return this.__get("isIOS")},this.isAndroid=function(){return this.__get("isAndroid")},this.isWindowsPhone=function(){return this.__get("isWindowsPhone")},this.version=function(){return this.__get("version")},this.__get=function(a){return"undefined"!=typeof this.mobileData[a]&&this.mobileData[a]},this.loadMobileData=function(a){if("{}"==JSON.stringify(this.mobileData))this.mobileData=a;else{var b=JSON.stringify(this.mobileData).concat(JSON.stringify(a)).replace("}{",",");this.mobileData=JSON.parse(b)}return this}},h=function(){this.assetsData={},this.getResourceUrl=function(a,b){return this.getAssetsUrl(b)+"/"+a},this.getResourcePath=function(a,b){return this.getAssetsPath(b)+"/"+a},this.getAssetsPath=function(a){var b="undefined"!=typeof a&&null!=a?a:"";return anf("routing").getBasePath()+this.assetsData.assetsPath+"/"+b},this.getAssetsUrl=function(a){var b="undefined"!=typeof a&&null!=a?a:"";return anf("routing").getBaseUrl()+this.assetsData.assetsPath+"/"+b},this.loadData=function(a){if("{}"==JSON.stringify(this.assetsData))this.assetsData=a;else{var b=JSON.stringify(this.assetsData).concat(JSON.stringify(a)).replace("}{",",");this.assetsData=JSON.parse(b)}return this}},i=function(){function i(){return a.routing=new b,a.session=new e,a.configs=new d,a.languages=new f,a.httprequest=new c,a.mobile_detector=new g,a.assets=new h,this}var a={};return this.get=function(b){return"undefined"!=typeof a[b]&&a[b]},i(),this},j=new i;a.anf=function(a){return j.get(a)}}(window);